<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mitosis Creative Agency</title>
  <style>
    html, body { margin:0; background:#0b0b0f; }
    canvas { display:block; width:100%; height:100vh; position:fixed; top:0; left:0; z-index:0; }
    
    .overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100vh;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      z-index: 1;
      pointer-events: none;
    }
    
    .agency-title {
      font: bold 48px/1.1 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #ffd65a;
      text-shadow: 0 2px 16px #0b0b0f, 0 1px 0 #fff2;
      margin-bottom: 32px;
      letter-spacing: 0.02em;
      pointer-events: auto;
    }
    
    .cta-btn {
      font: bold 18px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #0b0b0f;
      background: #ffd65a;
      border: none;
      border-radius: 8px;
      padding: 14px 32px;
      box-shadow: 0 2px 12px #ffd65a44;
      cursor: pointer;
      transition: background .2s, transform .7s cubic-bezier(.6,1.7,.7,1.01), opacity .3s;
      pointer-events: auto;
      transform-origin: left top;
    }
    
    .cta-btn:hover {
      background: #ffe98a;
    }
    
    .cta-btn:focus {
      outline: 2px solid #ffd65a;
      outline-offset: 2px;
    }
    
    .cta-btn.falling {
      animation: fall-off-hinge 2.2s cubic-bezier(.6,1.7,.7,1.01) forwards;
    }
    
    @keyframes fall-off-hinge {
      0% { transform: rotate(0deg) translateY(0); opacity: 1; }
      10% { transform: rotate(-18deg) translateY(0); }
      20% { transform: rotate(12deg) translateY(0); }
      30% { transform: rotate(-8deg) translateY(0); }
      40% { transform: rotate(6deg) translateY(0); }
      50% { transform: rotate(-4deg) translateY(0); }
      60% { transform: rotate(2deg) translateY(0); }
      70% { transform: rotate(-1deg) translateY(0); }
      80% { transform: rotate(0deg) translateY(0); opacity: 1; }
      85% { transform: rotate(0deg) translateY(40vh) scale(1.05); opacity: 1; }
      92% { transform: rotate(12deg) translateY(80vh) scale(1.08); opacity: 1; }
      100% { transform: rotate(18deg) translateY(140vh) scale(1.1); opacity: 0.7; }
    }
    
    @media (prefers-reduced-motion: reduce) {
      .cta-btn.falling {
        animation: none;
        opacity: 0;
      }
    }
    
    .hint {
      position: fixed; left: 12px; top: 12px;
      font: 14px/1.3 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: rgba(255,255,255,.8);
      background: rgba(0,0,0,.35);
      padding: 8px 10px;
      border-radius: 10px;
      backdrop-filter: blur(8px);
      user-select: none;
      z-index: 3;
    }
    
    .floating-word {
      position: fixed;
      font: bold 14px system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #ffd65a;
      pointer-events: none;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
      z-index: 2;
    }
    
    /* How I Help Section */
    .how-i-help {
      position: relative;
      z-index: 2;
      padding: 80px 20px;
      background: linear-gradient(180deg, rgba(11,11,15,0) 0%, rgba(11,11,15,0.95) 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    
    .how-i-help h2 {
      font: bold 36px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #ffd65a;
      margin-bottom: 60px;
      text-align: center;
    }

    .skills-intro {
      font: 22px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #fff;
      max-width: 600px;
      text-align: center;
      margin-bottom: 60px;
      background: rgba(0,0,0,.35);
      padding: 20px 30px;
      border-radius: 12px;
      backdrop-filter: blur(8px);
    }
    
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 24px;
      max-width: 1000px;
      width: 100%;
    }
    
    .card {
      background: rgba(255, 214, 90, 0.05);
      border: 1px solid rgba(255, 214, 90, 0.2);
      border-radius: 12px;
      padding: 28px;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .card:hover {
      border-color: rgba(255, 214, 90, 0.4);
      background: rgba(255, 214, 90, 0.08);
      transform: translateY(-4px);
    }
    
    .card h3 {
      font: bold 18px/1.3 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #ffd65a;
      margin: 0 0 12px 0;
    }
    
    .card p {
      font: 15px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: rgba(255,255,255,0.85);
      margin: 0;
    }
    
    .card-icon {
      position: absolute;
      top: -20px;
      right: -20px;
      width: 80px;
      height: 80px;
      background: rgba(255, 214, 90, 0.1);
      border-radius: 50%;
      transition: all 0.4s ease;
    }
    
    .card:hover .card-icon {
      width: 120px;
      height: 120px;
      top: -40px;
      right: -40px;
      background: rgba(255, 214, 90, 0.15);
    }
    
    @media (prefers-reduced-motion: reduce) {
      .card {
        transition: none;
      }
      .card:hover {
        transform: none;
      }
      .card-icon {
        transition: none;
      }
    }
    
    /* Contact Section */
    #contact {
      height: auto;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #0b0b0f;
      padding: 60px 20px;
      position: relative;
      z-index: 2;
    }
    
    #contact img {
      max-width: 100%;
      max-height: 60vh;
      object-fit: contain;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(255, 214, 90, 0.2);
      margin-bottom: 40px;
    }
    
    .contact-blurb {
      font: 20px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #fff;
      max-width: 600px;
      text-align: center;
      margin-bottom: 32px;
    }
    
    .contact-actions {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .contact-btn {
      font: bold 16px/1.2 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #0b0b0f;
      background: #ffd65a;
      border: none;
      border-radius: 8px;
      padding: 12px 28px;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      display: inline-block;
    }
    
    .contact-btn:hover {
      background: #ffe98a;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 214, 90, 0.3);
    }
    
    .contact-btn:focus {
      outline: 2px solid #ffd65a;
      outline-offset: 2px;
    }
    
    @media (prefers-reduced-motion: reduce) {
      .contact-btn:hover {
        transform: none;
      }
    }
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <div class="overlay">
    <div class="agency-title">Mitosis Creative Agency</div>
    <button class="cta-btn" id="ctaBtn">Let's Work Together</button>
  </div>
  <div class="hint">Click to split ðŸ™‚ (mitosis). Each generation gets smaller.</div>

  <!-- How I Help Section -->
  <div class="how-i-help">
    <div class="skills-intro">
      We split big, messy ideas into experiences people actually feel.
    </div>
    <h2>How I Help</h2>
    <div class="cards-grid">
      <div class="card">
        <div class="card-icon"></div>
        <h3>Interpreter</h3>
        <p>I translate vague human emotions into interaction mechanics. Clarity first.</p>
      </div>
      <div class="card">
        <div class="card-icon"></div>
        <h3>Reality Generator</h3>
        <p>Prototype fast. Make clients <em>feel</em> the idea before scaling it.</p>
      </div>
      <div class="card">
        <div class="card-icon"></div>
        <h3>Creative Multiplier</h3>
        <p>AI-assisted workflows that speed up teams without killing the soul.</p>
      </div>
      <div class="card">
        <div class="card-icon"></div>
        <h3>Human Guardrails</h3>
        <p>Every system gets tested for empathy. Does this still feel human?</p>
      </div>
    </div>
  </div>

  <!-- Contact Section -->
  <div id="contact">
    <img id="contactImage" src="./images/the_sky_is_blue_cover.jpg" alt="Creative work" />
    <div class="contact-blurb">
      If you want the work to feel human <em>and</em> ship fast, let's build together.
    </div>
    <div class="contact-actions">
      <a href="mailto:hello@mitosiscreative.com" class="contact-btn">Send an Email</a>
      <a href="#" class="contact-btn" onclick="alert('Calendly integration coming soon'); return false;">Schedule a Chat</a>
    </div>
  </div>

  <script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function resize() {
      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      canvas.width = Math.floor(innerWidth * dpr);
      canvas.height = Math.floor(innerHeight * dpr);
      canvas.style.width = innerWidth + 'px';
      canvas.style.height = innerHeight + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    window.addEventListener('resize', resize);
    resize();

    const cells = [];
    const splits = [];
    const floatingWords = ['clarity', 'empathy', 'prototype', 'participation', 'taste', 'momentum'];

    const SHRINK = 0.78;
    const SEP = 1.15;
    const SPLIT_MS = 520;
    const DRAG = 0.992;
    const JIGGLE = prefersReducedMotion ? 0.01 : 0.06;

    function addCell(x, y, r) {
      cells.push({
        x: x,
        y: y,
        r: r,
        vx: (Math.random() - 0.5) * 0.4,
        vy: (Math.random() - 0.5) * 0.6
      });
    }

    // Start with one happy face cell
    addCell(innerWidth * 0.15, innerHeight / 2, 64);

    function pickCell(clickX, clickY) {
      let closest = null;
      let minDist = Infinity;
      for (let cell of cells) {
        const dist = Math.hypot(cell.x - clickX, cell.y - clickY);
        if (dist < minDist) {
          minDist = dist;
          closest = cell;
        }
      }
      return closest;
    }

    function startSplit(cell) {
      if (!cell) return;
      const i = cells.indexOf(cell);
      if (i === -1) return;

      cells.splice(i, 1);

      const angle = Math.random() * Math.PI * 2;
      const sep = cell.r * SEP;
      const newR = cell.r * SHRINK;
      const speed = 1.5;

      const c1 = {
        x: cell.x + Math.cos(angle) * sep,
        y: cell.y + Math.sin(angle) * sep,
        r: newR,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed
      };

      const c2 = {
        x: cell.x - Math.cos(angle) * sep,
        y: cell.y - Math.sin(angle) * sep,
        r: newR,
        vx: -Math.cos(angle) * speed,
        vy: -Math.sin(angle) * speed
      };

      splits.push({
        start: Date.now(),
        c1a: { x: cell.x, y: cell.y },
        c1b: c1,
        c2a: { x: cell.x, y: cell.y },
        c2b: c2
      });

      cells.push(c1, c2);

      // Floating word (1 in 5 chance)
      if (Math.random() < 0.2 && !prefersReducedMotion) {
        const word = floatingWords[Math.floor(Math.random() * floatingWords.length)];
        const el = document.createElement('div');
        el.className = 'floating-word';
        el.textContent = word;
        el.style.left = cell.x + 'px';
        el.style.top = cell.y + 'px';
        el.style.opacity = '1';
        el.style.transition = 'opacity 0.5s ease-out, transform 1.5s ease-out';
        document.body.appendChild(el);

        requestAnimationFrame(() => {
          el.style.transform = 'translateY(-40px)';
          el.style.opacity = '0';
        });

        setTimeout(() => el.remove(), 1500);
      }
    }

    function drawFace(x, y, r, pinch = 0) {
      ctx.save();
      ctx.translate(x, y);

      // Face
      ctx.fillStyle = '#ffd65a';
      ctx.beginPath();
      ctx.arc(0, 0, r, 0, Math.PI * 2);
      ctx.fill();

      // Left eye
      ctx.fillStyle = '#0b0b0f';
      ctx.beginPath();
      ctx.arc(-r * 0.35, -r * 0.25, r * 0.15, 0, Math.PI * 2);
      ctx.fill();

      // Right eye
      ctx.beginPath();
      ctx.arc(r * 0.35, -r * 0.25, r * 0.15, 0, Math.PI * 2);
      ctx.fill();

      // Smile
      ctx.strokeStyle = '#0b0b0f';
      ctx.lineWidth = r * 0.12;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.arc(0, r * 0.1, r * 0.3, 0, Math.PI, false);
      ctx.stroke();

      ctx.restore();
    }

    function step(now) {
      ctx.fillStyle = 'rgba(11, 11, 15, 0.05)';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Update splits
      for (let i = splits.length - 1; i >= 0; i--) {
        const s = splits[i];
        const elapsed = now - s.start;
        const progress = Math.min(1, elapsed / SPLIT_MS);

        const c1x = s.c1a.x + (s.c1b.x - s.c1a.x) * progress;
        const c1y = s.c1a.y + (s.c1b.y - s.c1a.y) * progress;
        const c2x = s.c2a.x + (s.c2b.x - s.c2a.x) * progress;
        const c2y = s.c2a.y + (s.c2b.y - s.c2a.y) * progress;

        drawFace(c1x, c1y, s.c1b.r);
        drawFace(c2x, c2y, s.c2b.r);

        if (progress >= 1) {
          splits.splice(i, 1);
        }
      }

      // Update and draw cells
      for (let cell of cells) {
        cell.vx *= DRAG;
        cell.vy *= DRAG;
        cell.vx += (Math.random() - 0.5) * JIGGLE;
        cell.vy += (Math.random() - 0.5) * JIGGLE;

        cell.x += cell.vx;
        cell.y += cell.vy;

        // Bounce off edges
        if (cell.x - cell.r < 0) {
          cell.x = cell.r;
          cell.vx = Math.abs(cell.vx) * 0.6;
        }
        if (cell.x + cell.r > innerWidth) {
          cell.x = innerWidth - cell.r;
          cell.vx = -Math.abs(cell.vx) * 0.6;
        }
        if (cell.y - cell.r < 0) {
          cell.y = cell.r;
          cell.vy = Math.abs(cell.vy) * 0.6;
        }
        if (cell.y + cell.r > innerHeight) {
          cell.y = innerHeight - cell.r;
          cell.vy = -Math.abs(cell.vy) * 0.6;
        }

        drawFace(cell.x, cell.y, cell.r);
      }

      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);

    // Click handler
    window.addEventListener('pointerdown', (e) => {
      const cell = pickCell(e.clientX, e.clientY);
      if (cell) {
        startSplit(cell);
      }
    });

    // CTA button
    const ctaBtn = document.getElementById('ctaBtn');
    ctaBtn.addEventListener('click', function(e) {
      ctaBtn.classList.add('falling');
      setTimeout(() => {
        document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
      }, 2000);
    });
  </script>
</body>
</html>
